import { Switch, Route, NavLink, useLocation } from 'react-router-dom';
import About from './components/About';
import Work from './components/Work';
import Contact from './components/Contact';
import SApp from './SApp';
import { useEffect, useState } from 'react';

const colors = ['#BAC6B7', '#B7C4C6', '#C5B7C6', '#C6C1B7', '#C6B7B7'];

export default function App() {
  const location = useLocation();
  const [color, setColor] = useState(colors[0]);
  const [displayMenu, setDisplayMenu] = useState(false);

  const changeColor = () => {
    let tmpColor = color;

    do {
      const i = Math.floor(Math.random() * colors.length);

      tmpColor = colors[i];
    } while (tmpColor === color);

    setColor(tmpColor);
  };

  useEffect(() => {
    const interval = setInterval(changeColor, 6000);

    return () => {
      clearInterval(interval);
    };
    // eslint-disable-next-line
  }, []);

  useEffect(() => {
    if (displayMenu) {
      setDisplayMenu(false);
    }
    // eslint-disable-next-line
  }, [location]);

  return (
    <SApp
      backColor={displayMenu ? color : '#fff'}
      color={displayMenu ? '#fff' : color}
    >
      <button
        type='button'
        className='btn-menu-toggle'
        onClick={() => {
          setDisplayMenu(!displayMenu);
        }}
      >
        <p>menu</p>
      </button>
      <ul className='social-links'>
        <li className='social-link'>
          <a
            href='https://twitter.com/HeRRod__'
            target='_blank'
            rel='noreferrer'
          >
            <img src='/img/twitter.svg' alt='twitter' />
          </a>
        </li>
        <li className='social-link'>
          <a
            href='https://github.com/bdtkevin'
            target='_blank'
            rel='noreferrer'
          >
            <img src='/img/github.svg' alt='github' />
          </a>
        </li>
        <li className='social-link'>
          <a
            href='https://www.linkedin.com/in/kevin-bodart'
            target='_blank'
            rel='noreferrer'
          >
            <img src='/img/linkedin.svg' alt='linkedin' />
          </a>
        </li>
      </ul>
      <header>
        <div className='name-title'>
          <svg viewBox='0 0 285 54'>
            <path
              id='name'
              d='M4.512 41C4.192 41 4.032 40.84 4.032 40.52V25.016C3.584 25.048 3.12 25.064 2.64 25.064C0.88 25.064 0 24.552 0 23.528C0 22.92 0.384 22.376 1.152 21.896C1.92 21.416 2.88 21.096 4.032 20.936V8.36C4.032 8.04 4.192 7.88 4.512 7.88C4.864 7.88 5.04 8.04 5.04 8.36V20.792C5.264 20.792 5.488 20.792 5.712 20.792C6.928 20.792 8.032 20.968 9.024 21.32C9.6 20.648 10.112 19.832 10.56 18.872C11.008 17.912 11.44 16.808 11.856 15.56C13.136 11.688 14.608 9.16 16.272 7.976C16.368 7.912 16.496 7.88 16.656 7.88C16.976 7.88 17.136 8.056 17.136 8.408C17.136 8.568 17.056 8.696 16.896 8.792C16.192 9.272 15.488 10.12 14.784 11.336C14.08 12.52 13.44 13.992 12.864 15.752C12.448 17 12 18.12 11.52 19.112C11.072 20.104 10.56 20.984 9.984 21.752C12.704 23.128 14.496 26.024 15.36 30.44L17.328 40.424C17.392 40.648 17.344 40.808 17.184 40.904C17.024 40.968 16.896 41 16.8 41C16.544 41 16.384 40.872 16.32 40.616L14.352 30.632C13.488 26.376 11.792 23.672 9.264 22.52C8.112 23.736 6.704 24.504 5.04 24.824V40.52C5.04 40.84 4.864 41 4.512 41ZM5.712 21.8C5.488 21.8 5.264 21.8 5.04 21.8V23.816C6.288 23.56 7.36 23 8.256 22.136C7.488 21.912 6.64 21.8 5.712 21.8ZM1.008 23.432C1.008 23.848 1.648 24.056 2.928 24.056C3.312 24.056 3.68 24.04 4.032 24.008V21.944C3.2 22.072 2.48 22.28 1.872 22.568C1.296 22.824 1.008 23.112 1.008 23.432ZM29.1536 41.24C28.0656 41.24 27.0896 40.744 26.2256 39.752C25.3936 38.728 24.7376 37.336 24.2576 35.576C23.8096 33.816 23.5856 31.8 23.5856 29.528C23.5856 27.256 23.8096 25.24 24.2576 23.48C24.7376 21.72 25.3776 20.344 26.1776 19.352C27.0096 18.36 27.9696 17.864 29.0576 17.864C30.0496 17.864 30.8976 18.28 31.6016 19.112C32.3376 19.912 32.8976 21.032 33.2816 22.472C33.6976 23.88 33.9056 25.496 33.9056 27.32C33.9056 27.832 33.6496 28.088 33.1376 28.088H24.6896C24.6576 28.568 24.6416 29.048 24.6416 29.528C24.6416 31.576 24.8336 33.416 25.2176 35.048C25.6016 36.648 26.1296 37.912 26.8016 38.84C27.5056 39.768 28.2896 40.232 29.1536 40.232C29.9856 40.232 30.6896 39.88 31.2656 39.176C31.8736 38.472 32.3536 37.544 32.7056 36.392C32.8016 36.104 32.9776 35.96 33.2336 35.96C33.4576 35.96 33.6016 36.056 33.6656 36.248C33.7296 36.408 33.7296 36.584 33.6656 36.776C33.2176 38.152 32.6256 39.24 31.8896 40.04C31.1536 40.84 30.2416 41.24 29.1536 41.24ZM29.0576 18.872C27.9696 18.872 27.0256 19.64 26.2256 21.176C25.4576 22.712 24.9616 24.68 24.7376 27.08H32.8976C32.8336 24.744 32.4496 22.792 31.7456 21.224C31.0736 19.656 30.1776 18.872 29.0576 18.872ZM28.4816 15.416C28.6096 15.48 28.7376 15.496 28.8656 15.464C28.9936 15.432 29.0896 15.368 29.1536 15.272L31.9856 10.568C32.1776 10.312 32.1136 10.088 31.7936 9.896C31.5056 9.736 31.2816 9.784 31.1216 10.04L28.2896 14.744C28.0976 15 28.1616 15.224 28.4816 15.416ZM44.5691 41C44.3131 41 44.1531 40.872 44.0891 40.616L38.7131 18.728C38.6811 18.568 38.7131 18.424 38.8091 18.296C38.9051 18.168 39.0331 18.104 39.1931 18.104C39.4491 18.104 39.6091 18.232 39.6731 18.488L44.6171 38.6L49.5131 18.488C49.5771 18.232 49.7371 18.104 49.9931 18.104C50.1531 18.104 50.2811 18.168 50.3771 18.296C50.5051 18.424 50.5371 18.568 50.4731 18.728L45.0971 40.616C45.0011 40.872 44.8251 41 44.5691 41ZM57.2006 15.512C56.8806 15.512 56.7206 15.352 56.7206 15.032V10.28C56.7206 9.96 56.8806 9.8 57.2006 9.8C57.5526 9.8 57.7286 9.96 57.7286 10.28V15.032C57.7286 15.352 57.5526 15.512 57.2006 15.512ZM57.2006 41C56.8806 41 56.7206 40.84 56.7206 40.52V18.584C56.7206 18.264 56.8806 18.104 57.2006 18.104C57.5526 18.104 57.7286 18.264 57.7286 18.584V40.52C57.7286 40.84 57.5526 41 57.2006 41ZM66.3506 41C66.0306 41 65.8706 40.84 65.8706 40.52V18.584C65.8706 18.264 66.0306 18.104 66.3506 18.104C66.7026 18.104 66.8786 18.264 66.8786 18.584V20.504C67.5186 19.544 68.2066 18.872 68.9426 18.488C69.6786 18.072 70.4786 17.864 71.3426 17.864C73.9986 17.864 75.3266 19.64 75.3266 23.192V40.52C75.3266 40.84 75.1506 41 74.7986 41C74.4786 41 74.3186 40.84 74.3186 40.52V23.192C74.3186 21.624 74.0626 20.52 73.5506 19.88C73.0386 19.208 72.3026 18.872 71.3426 18.872C70.3506 18.872 69.4706 19.176 68.7026 19.784C67.9666 20.36 67.3586 21.096 66.8786 21.992V40.52C66.8786 40.84 66.7026 41 66.3506 41ZM97.4006 41C97.0806 41 96.9206 40.84 96.9206 40.52V8.36C96.9206 8.04 97.0806 7.88 97.4006 7.88H102.057C104.329 7.88 106.073 8.76 107.289 10.52C108.505 12.248 109.113 14.76 109.113 18.056C109.113 20.84 108.569 22.856 107.481 24.104C108.153 25.032 108.681 26.12 109.065 27.368C109.449 28.584 109.641 29.928 109.641 31.4C109.641 34.344 108.905 36.68 107.433 38.408C105.993 40.136 104.009 41 101.481 41H97.4006ZM102.057 8.888H97.9286V39.992H101.481C103.689 39.992 105.417 39.24 106.665 37.736C107.945 36.2 108.585 34.088 108.585 31.4C108.585 30.088 108.409 28.872 108.057 27.752C107.737 26.632 107.273 25.656 106.665 24.824C105.961 25.304 105.097 25.544 104.073 25.544C102.793 25.544 101.705 25.224 100.809 24.584C99.9446 23.944 99.5126 23.24 99.5126 22.472C99.5126 21.576 100.233 21.128 101.673 21.128C102.697 21.128 103.641 21.32 104.505 21.704C105.369 22.088 106.137 22.632 106.809 23.336C107.641 22.248 108.057 20.488 108.057 18.056C108.057 15.048 107.545 12.776 106.521 11.24C105.529 9.672 104.041 8.888 102.057 8.888ZM100.521 22.664C100.521 23.048 100.873 23.464 101.577 23.912C102.281 24.36 103.113 24.584 104.073 24.584C104.841 24.584 105.497 24.408 106.041 24.056C104.825 22.744 103.385 22.088 101.721 22.088C100.921 22.088 100.521 22.28 100.521 22.664ZM121.833 41.24C120.745 41.24 119.785 40.744 118.953 39.752C118.153 38.76 117.513 37.384 117.033 35.624C116.585 33.864 116.361 31.832 116.361 29.528C116.361 27.224 116.585 25.208 117.033 23.48C117.513 21.72 118.153 20.344 118.953 19.352C119.785 18.36 120.745 17.864 121.833 17.864C122.921 17.864 123.865 18.376 124.665 19.4C125.497 20.392 126.153 21.768 126.633 23.528C127.113 25.256 127.353 27.256 127.353 29.528C127.353 31.8 127.113 33.816 126.633 35.576C126.153 37.336 125.497 38.728 124.665 39.752C123.865 40.744 122.921 41.24 121.833 41.24ZM121.833 40.232C122.697 40.232 123.465 39.768 124.137 38.84C124.809 37.912 125.337 36.648 125.721 35.048C126.105 33.416 126.297 31.576 126.297 29.528C126.297 27.48 126.105 25.656 125.721 24.056C125.337 22.456 124.809 21.192 124.137 20.264C123.465 19.336 122.697 18.872 121.833 18.872C121.001 18.872 120.249 19.336 119.577 20.264C118.905 21.192 118.377 22.456 117.993 24.056C117.609 25.656 117.417 27.48 117.417 29.528C117.417 31.576 117.609 33.416 117.993 35.048C118.377 36.648 118.905 37.912 119.577 38.84C120.249 39.768 121.001 40.232 121.833 40.232ZM143.066 41C143.386 41 143.546 40.84 143.546 40.52V7.256C143.546 6.936 143.386 6.776 143.066 6.776C142.714 6.776 142.538 6.936 142.538 7.256V19.976C141.578 18.568 140.426 17.864 139.082 17.864C137.962 17.864 137.018 18.376 136.25 19.4C135.514 20.392 134.954 21.768 134.57 23.528C134.218 25.256 134.042 27.256 134.042 29.528C134.042 31.8 134.218 33.816 134.57 35.576C134.954 37.336 135.514 38.728 136.25 39.752C137.018 40.744 137.962 41.24 139.082 41.24C140.426 41.24 141.578 40.536 142.538 39.128V40.52C142.538 40.84 142.714 41 143.066 41ZM139.082 18.872C139.69 18.872 140.314 19.112 140.954 19.592C141.594 20.072 142.122 20.744 142.538 21.608V37.448C142.122 38.344 141.594 39.032 140.954 39.512C140.314 39.992 139.69 40.232 139.082 40.232C138.186 40.232 137.434 39.768 136.826 38.84C136.25 37.912 135.818 36.648 135.53 35.048C135.242 33.416 135.098 31.576 135.098 29.528C135.098 27.48 135.242 25.656 135.53 24.056C135.818 22.456 136.25 21.192 136.826 20.264C137.434 19.336 138.186 18.872 139.082 18.872ZM154.243 41C153.027 41 152.051 40.584 151.315 39.752C150.611 38.888 150.259 37.736 150.259 36.296C150.259 33.192 151.827 30.952 154.963 29.576L159.187 27.752V23.192C159.187 20.312 158.195 18.872 156.211 18.872C154.675 18.872 153.331 19.832 152.179 21.752C152.083 21.912 151.955 21.992 151.795 21.992C151.443 21.992 151.267 21.832 151.267 21.512C151.267 21.416 151.299 21.304 151.363 21.176C152.611 18.968 154.227 17.864 156.211 17.864C158.867 17.864 160.195 19.64 160.195 23.192V38.888C160.195 39.624 160.483 39.992 161.059 39.992C161.379 39.992 161.651 39.88 161.875 39.656C161.971 39.56 162.083 39.512 162.211 39.512C162.563 39.512 162.739 39.688 162.739 40.04C162.739 40.168 162.691 40.28 162.595 40.376C162.179 40.792 161.667 41 161.059 41C159.811 41 159.187 40.296 159.187 38.888V38.36C158.131 39.352 157.219 40.04 156.451 40.424C155.715 40.808 154.979 41 154.243 41ZM151.315 36.296C151.315 37.48 151.571 38.392 152.083 39.032C152.595 39.672 153.315 39.992 154.243 39.992C154.915 39.992 155.619 39.784 156.355 39.368C157.091 38.952 158.035 38.216 159.187 37.16V28.856L155.395 30.488C152.675 31.672 151.315 33.608 151.315 36.296ZM169.719 41C169.399 41 169.239 40.84 169.239 40.52V18.584C169.239 18.264 169.399 18.104 169.719 18.104C170.071 18.104 170.247 18.264 170.247 18.584V20.504C170.887 19.544 171.575 18.872 172.311 18.488C173.047 18.072 173.847 17.864 174.711 17.864C177.367 17.864 178.695 19.752 178.695 23.528C178.695 23.912 178.535 24.104 178.215 24.104C177.863 24.104 177.687 23.912 177.687 23.528C177.687 21.8 177.431 20.6 176.919 19.928C176.407 19.224 175.671 18.872 174.711 18.872C173.719 18.872 172.839 19.176 172.071 19.784C171.335 20.36 170.727 21.096 170.247 21.992V40.52C170.247 40.84 170.071 41 169.719 41ZM190.136 41C188.696 41 187.656 40.68 187.016 40.04C186.376 39.4 186.056 38.28 186.056 36.68V19.592H182.792C182.472 19.592 182.312 19.416 182.312 19.064C182.312 18.744 182.472 18.584 182.792 18.584H186.056V12.536C186.056 12.216 186.232 12.056 186.584 12.056C186.904 12.056 187.064 12.216 187.064 12.536V18.584H190.328C190.648 18.584 190.808 18.744 190.808 19.064C190.808 19.416 190.648 19.592 190.328 19.592H187.064V36.632C187.064 37.912 187.288 38.792 187.736 39.272C188.184 39.752 188.984 39.992 190.136 39.992C190.488 39.992 190.664 40.152 190.664 40.472C190.664 40.824 190.488 41 190.136 41Z'
              fill='#2b2b2b'
              stroke='#2b2b2b'
            />
            <path
              id='line'
              d='M203 27H284.015'
              stroke='#2b2b2b'
              strokeWidth='2'
            />
          </svg>
        </div>
      </header>
      <main>
        <div className={`menu-toggle${!displayMenu ? ' hide' : ''}`}>
          <div className='menu'>
            <ul className='menu-list'>
              <li className='menu-item'>
                <NavLink
                  exact
                  to='/'
                  className='menu-link'
                  activeClassName='selected'
                >
                  about
                </NavLink>
              </li>
              <li className='menu-item'>
                <NavLink
                  to='/work'
                  className='menu-link'
                  activeClassName='selected'
                >
                  work
                </NavLink>
              </li>
              <li className='menu-item'>
                <NavLink
                  to='/contact'
                  className='menu-link'
                  activeClassName='selected'
                >
                  Contact
                </NavLink>
              </li>
            </ul>
          </div>
          <div className='content-page'>
            <Switch>
              <Route exact path='/' component={About} />
              <Route exact path='/work' component={Work} />
              <Route exact path='/contact' component={Contact} />
            </Switch>
          </div>
        </div>
      </main>
      <footer>
        <p>Developer web frontend & backend</p>
      </footer>
    </SApp>
  );
}
